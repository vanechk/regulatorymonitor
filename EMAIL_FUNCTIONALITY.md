# Функциональность отправки новостей на email

## Описание

Добавлена возможность отправки выбранных новостей на email адрес. Пользователи могут выбирать конкретные новости и отправлять их в виде красивого HTML-письма.

## Как использовать

### 1. Выбор новостей
- На странице Dashboard отображаются все загруженные новости
- Каждая новость имеет чекбокс для выбора
- Можно выбрать отдельные новости или использовать кнопку "Выбрать все"

### 2. Отправка на email
- После выбора новостей появляется кнопка "Отправить на email (N)"
- При нажатии открывается модальное окно с формой отправки
- Необходимо указать:
  - Email адрес получателя
  - Тему письма (по умолчанию заполняется)
  - Сообщение (по умолчанию заполняется)

### 3. Формат письма
Письмо содержит:
- Заголовок с датой отправки
- Список выбранных новостей с полной информацией:
  - Заголовок новости
  - Краткое описание
  - Источник
  - Дата публикации
  - Дополнительные поля (документ, тип налога, предмет, позиция)
  - Ссылка на оригинал (если есть)

## Техническая реализация

### Backend
- **API endpoint**: `POST /api/news/send-email`
- **Функция**: `sendSelectedNewsEmail()` в `api.ts`
- **Параметры**:
  - `email`: адрес получателя
  - `newsIds`: массив ID выбранных новостей
  - `subject`: тема письма (опционально)
  - `message`: сообщение (опционально)

### Frontend
- **Компонент**: `EmailSender.tsx`
- **Интеграция**: в `Dashboard.tsx`
- **Состояние**: выбор новостей и отображение модального окна

### Email шаблон
- HTML формат с CSS стилями
- Адаптивный дизайн
- Структурированное отображение новостей
- Ссылки на оригинальные источники

## Пример использования

1. Загрузите новости через кнопку "Загрузить новости"
2. Выберите нужные новости с помощью чекбоксов
3. Нажмите кнопку "Отправить на email (N)"
4. Заполните форму:
   - Email: `user@company.com`
   - Тема: `Новости по налогообложению - 23.12.2025`
   - Сообщение: `Вот важные новости для вашего внимания`
5. Нажмите "Отправить"

## Обработка ошибок

- Валидация email адреса
- Проверка наличия выбранных новостей
- Обработка ошибок отправки
- Уведомления пользователя о результате

## Требования

- Настроенный email сервис (Resend или другой)
- Новости в базе данных
- Корректный email адрес получателя 